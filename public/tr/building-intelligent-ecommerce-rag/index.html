<!DOCTYPE html>
<html lang="tr"
    dir="ltr"><head><script src="/blog/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=blog/livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, maximum-scale=1">
    <title>
    
    RAG ile AkÄ±llÄ± E-ticaret Deneyimleri OluÅŸturma - Ã‡aÄŸatay TÃ¼rkan
    
</title>
    
    
    
    
    
    
    <meta name="keywords" content="blog,yazÄ±lÄ±m,teknoloji">
    <meta name="description" content="SEO description">
    <link rel="canonical" href="http://localhost:1313/blog/tr/building-intelligent-ecommerce-rag/" />
    <link rel="icon" href="/favicon.ico?v=1741961931" type="image/x-icon">
    
<link rel="stylesheet" href="/blog/css/app.css">
    
<script src="/blog/js/main.js"></script>


<script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.13.10/dist/cdn.min.js"></script>

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    
    

    
    
    <script async src="https://www.googletagmanager.com/gtag/js?id="></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-NRES0X4BGY');
    </script>
    

    
    
</head><body>
    <div class="
        mx-auto max-w-[calc(120rem)]
        min-h-screen
        2xl:px-[calc(16rem)]
        xl:px-24
        md:px-8
        px-4
    ">

        <div x-data="{ openMenu: false }" class="relative">
    <nav class="flex flex-1 flex-col lg:flex-row items-center justify-between">
        <a href="/">
            <img src="/blog/images/author.jpeg" alt="site logo"
                class="w-16 h-16 my-5 p-1 bg-gray-100 rounded-full cursor-pointer hover:scale-110" />
        </a>
        <div class="hidden lg:block" :class="{'hidden': !openMenu}">
            






<ul
    class="flex flex-col lg:flex-row justify-end mt-2 sm:mt-5 mb-5 pb-2 font-light text-xl lg:text-2xl gap-5 lg:gap-1 text-center">
    








<li>
    <a    class="px-5 lg:px-10 py-3 font-light hover:border-b-2 hover:border-red-500"     href="/blog/tr/"  >Ana Sayfa</a>
    
</li>







<li>
    <a    class="px-5 lg:px-10 py-3 font-light hover:border-b-2 hover:border-red-500"     href="/blog/tr/categories/"  >Kategoriler</a>
    
</li>







<li>
    <a    class="px-5 lg:px-10 py-3 font-light hover:border-b-2 hover:border-red-500"     href="/blog/tr/tags/"  >Etiketler</a>
    
</li>

<li class="flex items-center gap-2">
    
        
            
                <a href="http://localhost:1313/blog/en/building-intelligent-ecommerce-rag/" class="text-gray-500 hover:text-gray-300 text-lg">ðŸ‡ºðŸ‡¸ EN</a>
            
            
                <span class="text-gray-600">|</span>
            
        
            
                <a href="http://localhost:1313/blog/tr/rag-ile-eticaret-chatbot-olusturma/" class="text-gray-500 hover:text-gray-300 text-lg">ðŸ‡¹ðŸ‡· TR</a>
            
            
        
    
</li>

</ul>




        </div>
    </nav>
    <div class="absolute top-8 right-5 flex items-center lg:hidden">
        
        <button @click="openMenu = !openMenu" type="button"
            class="relative inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-gray-800 hover:text-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white"
            aria-controls="mobile-menu" aria-expanded="openMenu">
            
            <svg x-show="!openMenu" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                stroke="currentColor" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
            </svg>
            
            <svg x-show="openMenu" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                stroke="currentColor" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
            </svg>
        </button>
    </div>
</div>

        <header class="flex flex-col w-full items-center justify-center text-white pt-8 pb-8">
    <div class="w-full">
        <div class="flex flex-1 flex-row justify-between">
            <h2 class="w-full text-center text-3xl sm:text-5xl font-crimson font-bold tracking-tight text-gray-300">
                <a href="http://localhost:1313/blog/">Ã‡aÄŸatay TÃ¼rkan</a>
            </h2>
        </div>
        <p
            class="w-full text-center pl-1 pb-4 sm:pt-3 sm:pb-0 font-crimson font-normal text-xl sm:text-2xl leading-8 text-gray-500">
            Trust me! I am an Engineer.</p>
    </div>

    
    <div class="flex justify-center w-full max-w-4xl mx-auto">
        <div class="flex justify-between w-32 px-12 mt-3">
            <a href="https://www.linkedin.com/in/cagatayturkann/" target="_blank" rel="noopener noreferrer" class="text-gray-500 hover:text-gray-100 transition-colors duration-200">
                <i class="fab fa-linkedin text-2xl"></i>
            </a>
            <a href="https://github.com/cagatayturkann" target="_blank" rel="noopener noreferrer" class="text-gray-500 hover:text-gray-100 transition-colors duration-200">
                <i class="fab fa-github text-2xl"></i>
            </a>
            <a href="https://www.instagram.com/cagatayturkann/" target="_blank" rel="noopener noreferrer" class="text-gray-500 hover:text-gray-100 transition-colors duration-200">
                <i class="fab fa-instagram text-2xl"></i>
            </a>
            <a href="https://x.com/cagatayturkann" target="_blank" rel="noopener noreferrer" class="text-gray-500 hover:text-gray-100 transition-colors duration-200">
                <i class="fab fa-x-twitter text-2xl"></i>
            </a>
            <a href="https://facebook.com/cagatayturkann" target="_blank" rel="noopener noreferrer" class="text-gray-500 hover:text-gray-100 transition-colors duration-200">
                <i class="fab fa-facebook text-2xl"></i>
            </a>
        </div>
    </div>

    <div class="relative w-9/12 lg:w-1/2 h-12 my-5">
        <form action="/blog/tr/search" method="get">
            <input
                class="bg-gray-800 placeholder:italic placeholder:text-gray-600 w-full h-12 rounded-full mt-1 pl-5 pr-5 border border-gray-800 text-gray-100"
                placeholder='Arama yapmak iÃ§in yazÄ±n...' type="text" name="q" id="search-input" />
            <button type="submit" class="absolute inset-y-2 right-1 w-28 h-10 font-light bg-gray-900 hover:bg-red-500 text-gray-500 hover:text-gray-100 rounded-full cursor-pointer">
                Ara
            </button>
        </form>
    </div>

    
    <div class="w-full flex flex-row justify-start text-gray-500 text-lg px-1 border-l-4 border-l-red-500">
        <ul class="flex flex-row gap-x-2">
            <li class="">
                <a href="/" class="hover:text-gray-100">Ana Sayfa</a>
            </li>
            
            <li>
                &gt;&nbsp;&nbsp;<a href="/blog/tr/building-intelligent-ecommerce-rag/" class="hover:text-gray-100">RAG ile AkÄ±llÄ± E-ticaret Deneyimleri OluÅŸturma</a>
            </li>
            
        </ul>
    </div>
    <div class="w-full h-2 border-b border-b-gray-600/50 border-dashed font-light text-gray-300">
    </div>
    

</header>

        <div class="
            flex flex-col overflow-hidden
            xl:px-0
            lg:flex-row lg:space-x-8
        ">
            <main class="w-full overflow-hidden">
                

<article class="single-article">
    <div class="group relative">
        <h1 class="text-3xl font-medium leading-10 text-gray-400 hover:text-gray-100">
            <a href="/blog/tr/building-intelligent-ecommerce-rag/">
                RAG ile AkÄ±llÄ± E-ticaret Deneyimleri OluÅŸturma
            </a>
        </h1>
        <div class="flex justify-between items-center">
            <time class="flex items-center py-2 text-xl text-gray-600">
                2025-03-14 10:00
                &nbsp;&nbsp;|&nbsp;&nbsp;21 minute read
            </time>
            
<div class="language-switch flex items-center space-x-2 text-gray-500 hover:text-gray-300">
    
    <a href="http://localhost:1313/blog/en/building-intelligent-ecommerce-rag/" class="flex items-center space-x-1">
        
        <span>ðŸ‡¬ðŸ‡§</span>
        <span class="text-sm">English</span>
        
    </a>
    
    <a href="http://localhost:1313/blog/tr/rag-ile-eticaret-chatbot-olusturma/" class="flex items-center space-x-1">
        
        <span>ðŸ‡¹ðŸ‡·</span>
        <span class="text-sm">TÃ¼rkÃ§e</span>
        
    </a>
    
</div>
 
        </div>

        
        <div class="my-6">
            <img src="/blog/tr/rag-ile-eticaret-chatbot-olusturma/images/cover.svg" alt="RAG ile AkÄ±llÄ± E-ticaret Deneyimleri OluÅŸturma" class="w-full rounded-lg shadow-lg">
        </div>
        

        <div class="mt-1 lg:pb-10 px-2 overflow-hidden break-words article-body">
            <div class="text-gray-500">
                <style>
                    .article-body h1 { font-size: 36px; font-weight: 700; margin: 1.5rem 0 1rem; color: #9ca3af; }
                    .article-body h2 { font-size: 30px; font-weight: 600; margin: 1.25rem 0 0.75rem; color: #9ca3af; }
                    .article-body h3 { font-size: 26px; font-weight: 500; margin: 1rem 0 0.5rem; color: #9ca3af; }
                    .article-body p { font-size: 20px; line-height: 1.8; margin: 0.75rem 0; }
                    .article-body ul, .article-body ol { margin: 0.75rem 0; padding-left: 1.5rem; }
                    .article-body li { font-size: 20px; line-height: 1.8; }
                    .article-body strong { font-weight: 600; color: #d1d5db; }
                    .article-body pre { background-color: #111827; font-size: 0.875rem; padding: 1rem; border-radius: 0.375rem; }
                </style>
                <h1 id="rag-ile-akÄ±llÄ±-e-ticaret-deneyimleri-oluÅŸturma">RAG ile AkÄ±llÄ± E-ticaret Deneyimleri OluÅŸturma</h1>
<h2 id="giriÅŸ">GiriÅŸ</h2>
<p>E-ticaret platformlarÄ±, daha kiÅŸiselleÅŸtirilmiÅŸ ve verimli alÄ±ÅŸveriÅŸ deneyimleri sunmak iÃ§in sÃ¼rekli geliÅŸiyor. Geleneksel arama ve Ã¶neri sistemleri, mÃ¼ÅŸteri sorgularÄ±nÄ±n arkasÄ±ndaki nÃ¼anslÄ± niyeti anlamada genellikle yetersiz kalÄ±yor. Ä°ÅŸte tam bu noktada Retrieval-Augmented Generation (RAG) devreye giriyor; bÃ¼yÃ¼k dil modellerinin gÃ¼cÃ¼nÃ¼ hassas bilgi eriÅŸimiyle birleÅŸtirerek daha akÄ±llÄ± alÄ±ÅŸveriÅŸ asistanlarÄ± oluÅŸturuyor.</p>
<p>Bu makalede, aÅŸaÄŸÄ±daki Ã¶zelliklere sahip bir RAG tabanlÄ± e-ticaret asistanÄ±nÄ±n nasÄ±l uygulanacaÄŸÄ±nÄ± inceleyeceÄŸiz:</p>
<ul>
<li>KarmaÅŸÄ±k Ã¼rÃ¼n sorgularÄ±nÄ± anlama ve yanÄ±tlama</li>
<li>Takip sorularÄ± iÃ§in konuÅŸma baÄŸlamÄ±nÄ± koruma</li>
<li>Sorunsuz Ã§ok dilli destek saÄŸlama</li>
<li>VektÃ¶r veritabanÄ±ndan doÄŸru Ã¼rÃ¼n bilgilerini getirme</li>
<li>HalÃ¼sinasyonlardan kaÃ§Ä±narak insan benzeri yanÄ±tlar Ã¼retme</li>
</ul>
<p>Bu projenin tÃ¼m kodlarÄ±na <a href="https://github.com/cagatayturkann/ecommerceRAG">GitHub deposundan</a> eriÅŸebilirsiniz.
AsistanÄ± <a href="https://ecommerce-rag.vercel.app/">buradan</a> test edebilirsiniz.</p>
<h2 id="1-e-ticaret-iÃ§in-ragÄ±-anlamak">1. E-ticaret iÃ§in RAG&rsquo;Ä± Anlamak</h2>
<h3 id="rag-nedir">RAG Nedir?</h3>
<p>Retrieval-Augmented Generation (RAG), bÃ¼yÃ¼k dil modellerini (LLM&rsquo;ler) harici bilgi kaynaklarÄ±ndan alÄ±nan ilgili bilgilerle geliÅŸtiren bir yapay zeka mimarisidir. Geleneksel LLM&rsquo;lerin aksine, RAG sistemleri gÃ¼ncel ve alana Ã¶zgÃ¼ bilgilere eriÅŸebilir.</p>
<p>RAG sÃ¼reci Ã¼Ã§ ana adÄ±mdan oluÅŸur:</p>
<ol>
<li><strong>EriÅŸim</strong>: KullanÄ±cÄ± bir soru sorduÄŸunda, sistem ilgili bilgileri veritabanÄ±nda arar</li>
<li><strong>ZenginleÅŸtirme</strong>: EriÅŸilen bilgiler LLM&rsquo;e gÃ¶nderilen isteme eklenir</li>
<li><strong>Ãœretim</strong>: LLM, hem Ã¶nceden eÄŸitilmiÅŸ bilgisine hem de eriÅŸilen bilgilere dayanarak bir yanÄ±t Ã¼retir</li>
</ol>
<h3 id="rag-neden-e-ticaret-iÃ§in-mÃ¼kemmel">RAG Neden E-ticaret Ä°Ã§in MÃ¼kemmel?</h3>
<p>E-ticaret, RAG&rsquo;Ä± Ã¶zellikle deÄŸerli kÄ±lan benzersiz zorluklar sunar:</p>
<ul>
<li><strong>ÃœrÃ¼n KataloglarÄ± SÄ±k SÄ±k DeÄŸiÅŸir</strong>: Yeni Ã¼rÃ¼nler eklenir, fiyatlar deÄŸiÅŸir ve stok dalgalanÄ±r</li>
<li><strong>Spesifik ÃœrÃ¼n DetaylarÄ± Ã–nemlidir</strong>: MÃ¼ÅŸteriler Ã¶zellikler, uyumluluk ve Ã¶zellikler hakkÄ±nda doÄŸru bilgiye ihtiyaÃ§ duyar</li>
<li><strong>Sorgu Niyeti KarmaÅŸÄ±ktÄ±r</strong>: &ldquo;1000 dolarÄ±n altÄ±nda oyun iÃ§in iyi bir laptop gÃ¶ster&rdquo; gibi sorgular birden Ã§ok kÄ±sÄ±t iÃ§erir</li>
<li><strong>Takip SorularÄ± YaygÄ±ndÄ±r</strong>: &ldquo;Arkadan aydÄ±nlatmalÄ± klavyesi var mÄ±?&rdquo; gibi sorular Ã¶nceki sorulardan baÄŸlam gerektirir</li>
</ul>
<p>Geleneksel arama sistemleri anahtar kelimeleri eÅŸleÅŸtirir ancak anlamsal anlayÄ±ÅŸta zorlanÄ±r. RAG, semantik arama ile LLM&rsquo;lerin konuÅŸma yeteneklerini birleÅŸtirerek bu boÅŸluÄŸu doldurur.</p>
<h3 id="e-ticarette-rag-vs-geleneksel-arama">E-ticarette RAG vs Geleneksel Arama</h3>
<table>
  <thead>
      <tr>
          <th>Ã–zellik</th>
          <th>Geleneksel Arama</th>
          <th>RAG TabanlÄ± Arama</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Sorgu Anlama</td>
          <td>Anahtar kelime eÅŸleÅŸtirme</td>
          <td>Anlamsal anlama</td>
      </tr>
      <tr>
          <td>SonuÃ§ Ä°lgisi</td>
          <td>Metin benzerliÄŸine dayalÄ±</td>
          <td>Anlam ve baÄŸlama dayalÄ±</td>
      </tr>
      <tr>
          <td>Belirsizlik YÃ¶netimi</td>
          <td>SÄ±nÄ±rlÄ±</td>
          <td>GÃ¼Ã§lÃ¼</td>
      </tr>
      <tr>
          <td>Takip SorularÄ±</td>
          <td>Yeni arama gerektirir</td>
          <td>BaÄŸlamÄ± korur</td>
      </tr>
      <tr>
          <td>YanÄ±t FormatÄ±</td>
          <td>ÃœrÃ¼n listesi</td>
          <td>ÃœrÃ¼n detaylarÄ±yla konuÅŸma</td>
      </tr>
      <tr>
          <td>ÃœrÃ¼n Bilgisi</td>
          <td>Ä°ndekslenen alanlarla sÄ±nÄ±rlÄ±</td>
          <td>TÃ¼m Ã¼rÃ¼n detaylarÄ±nÄ± iÃ§erebilir</td>
      </tr>
  </tbody>
</table>
<h2 id="2-vektÃ¶r-veritabanlarÄ±-ve-gÃ¶mme-iÅŸlemleri">2. VektÃ¶r VeritabanlarÄ± ve GÃ¶mme Ä°ÅŸlemleri</h2>
<h3 id="vektÃ¶r-veritabanlarÄ±nÄ±n-rolÃ¼">VektÃ¶r VeritabanlarÄ±nÄ±n RolÃ¼</h3>
<p>VektÃ¶r veritabanlarÄ±, yÃ¼ksek boyutlu vektÃ¶rleri (gÃ¶mmeleri) verimli bir ÅŸekilde depolamak ve sorgulamak iÃ§in tasarlanmÄ±ÅŸ Ã¶zel depolama sistemleridir. E-ticaret RAG sistemimizde, anlamsal aramanÄ±n temelini oluÅŸtururlar.</p>
<p>VektÃ¶r veritabanlarÄ±nÄ±n temel Ã¶zellikleri ÅŸunlardÄ±r:</p>
<ul>
<li><strong>Benzerlik AramasÄ±</strong>: Bir sorgu vektÃ¶rÃ¼ne anlamsal olarak benzer vektÃ¶rleri bulma</li>
<li><strong>Verimli Ä°ndeksleme</strong>: HÄ±zlÄ± eriÅŸim iÃ§in HNSW (Hierarchical Navigable Small World) gibi algoritmalar</li>
<li><strong>Hibrit Arama</strong>: VektÃ¶r benzerliÄŸini geleneksel filtrelerle birleÅŸtirme</li>
<li><strong>Metadata Depolama</strong>: VektÃ¶rlerin yanÄ±nda Ã¼rÃ¼n bilgilerini tutma</li>
</ul>
<p>E-ticaret RAG projemiz iÃ§in, gÃ¼Ã§lÃ¼ Ã¶zellikleri, GraphQL API&rsquo;si ve hibrit arama yetenekleri nedeniyle Weaviate&rsquo;i vektÃ¶r veritabanÄ± olarak seÃ§tik.</p>
<h3 id="Ã¼rÃ¼n-gÃ¶mmelerini-oluÅŸturma">ÃœrÃ¼n GÃ¶mmelerini OluÅŸturma</h3>
<p>GÃ¶mmeler, anlamsal anlamÄ± yakalayan metinlerin sayÄ±sal temsilleridir. Sistemimizde, Ã¼rÃ¼n bilgileri iÃ§in gÃ¶mmeleri Google&rsquo;Ä±n text-embedding-004 modelini kullanarak oluÅŸturuyoruz.</p>
<p>Ä°ÅŸte projemizdeki gÃ¶mme oluÅŸturma uygulamasÄ±:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">GoogleGenerativeAI</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;@google/generative-ai&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;dotenv&#39;</span>).<span style="color:#a6e22e">config</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Get API key from environment variables
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">GEMINI_API_KEY</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">process</span>.<span style="color:#a6e22e">env</span>.<span style="color:#a6e22e">GEMINI_API_KEY</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Initialize API client
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">genAI</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">GEMINI_API_KEY</span> <span style="color:#f92672">?</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">GoogleGenerativeAI</span>(<span style="color:#a6e22e">GEMINI_API_KEY</span>) <span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Generates an embedding vector for the given text
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param {String} text - Text to generate embedding for
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @returns {Array} - Embedding vector
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">getEmbedding</span>(<span style="color:#a6e22e">text</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">model</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">genAI</span>.<span style="color:#a6e22e">getGenerativeModel</span>({ <span style="color:#a6e22e">model</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;text-embedding-004&#39;</span> });
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">result</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">model</span>.<span style="color:#a6e22e">embedContent</span>(<span style="color:#a6e22e">text</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">result</span>.<span style="color:#a6e22e">embedding</span>.<span style="color:#a6e22e">values</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Bu gÃ¶mmeler, Ã¼rÃ¼n aÃ§Ä±klamalarÄ±nÄ±, baÅŸlÄ±klarÄ±nÄ± ve Ã¶zelliklerini anlamsal benzerlik iÃ§in karÅŸÄ±laÅŸtÄ±rÄ±labilecek vektÃ¶rlere dÃ¶nÃ¼ÅŸtÃ¼rmemizi saÄŸlar.</p>
<h3 id="vektÃ¶r-aramasÄ±nÄ±-uygulama">VektÃ¶r AramasÄ±nÄ± Uygulama</h3>
<p>ÃœrÃ¼nlerimiz vektÃ¶r veritabanÄ±na gÃ¶mÃ¼ldÃ¼kten sonra, artÄ±k anlamsal arama yapabiliriz. AÅŸaÄŸÄ±daki kod, bir kullanÄ±cÄ± sorgusuna dayalÄ± olarak ilgili Ã¼rÃ¼nlerin nasÄ±l alÄ±nacaÄŸÄ±nÄ± gÃ¶sterir:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Retrieves product information from Weaviate vector database
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param {String} query - Search query
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @returns {Array} - Product information
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">getProductInfo</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">async</span> (<span style="color:#a6e22e">query</span>) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">embedding</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">getEmbedding</span>(<span style="color:#a6e22e">query</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Use fixed alpha value for vector search
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">alpha</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Clean query text for GraphQL - make it safe
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">cleanQuery</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">query</span>
</span></span><span style="display:flex;"><span>      .<span style="color:#a6e22e">substring</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">100</span>) <span style="color:#75715e">// Keep query at reasonable length
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      .<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/[^\w\s]/gi</span>, <span style="color:#e6db74">&#39;&#39;</span>) <span style="color:#75715e">// Remove non-alphanumeric characters
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      .<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/&#34;/g</span>, <span style="color:#e6db74">&#39;&#39;</span>) <span style="color:#75715e">// Remove double quotes
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      .<span style="color:#a6e22e">trim</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">data</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>({
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">query</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`{
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        Get {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">          Ecommerce (
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            hybrid: {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">              query: &#34;</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">cleanQuery</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">              alpha: </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">alpha</span><span style="color:#e6db74">}</span><span style="color:#e6db74">,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">              vector: </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">embedding</span>)<span style="color:#e6db74">}</span><span style="color:#e6db74">,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            limit: 3
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">          ) {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            data
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            _additional { score }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">          }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      }`</span>,
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">config</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">method</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;post&#39;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">process</span>.<span style="color:#a6e22e">env</span>.<span style="color:#a6e22e">WEAVIATE_URL</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;/v1/graphql&#39;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">headers</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;Content-Type&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;application/json&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Authorization</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`Bearer </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">process</span>.<span style="color:#a6e22e">env</span>.<span style="color:#a6e22e">WEAVIATE_API_KEY</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>,
</span></span><span style="display:flex;"><span>      },
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">data</span>,
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">response</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">axios</span>.<span style="color:#a6e22e">request</span>(<span style="color:#a6e22e">config</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">response</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">Get</span>.<span style="color:#a6e22e">Ecommerce</span>.<span style="color:#a6e22e">map</span>((<span style="color:#a6e22e">item</span>) =&gt; <span style="color:#a6e22e">item</span>.<span style="color:#a6e22e">data</span>);
</span></span><span style="display:flex;"><span>  } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">error</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#39;Error during Weaviate query:&#39;</span>, <span style="color:#a6e22e">error</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> [];
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p>Sorgumuzdaki <code>hybrid</code> parametresi, vektÃ¶r aramasÄ±nÄ± (anlamsal benzerlik) anahtar kelime eÅŸleÅŸtirmesiyle birleÅŸtirmemizi saÄŸlar. <code>alpha</code> deÄŸeri (0.5), her iki yaklaÅŸÄ±ma da eÅŸit aÄŸÄ±rlÄ±k vererek anlamsal anlama ile anahtar kelime ilgisi arasÄ±nda bir denge saÄŸlar.</p>
<h2 id="3-konuÅŸma-yÃ¶netimi-ve-baÄŸlam">3. KonuÅŸma YÃ¶netimi ve BaÄŸlam</h2>
<h3 id="konuÅŸma-geÃ§miÅŸini-koruma">KonuÅŸma GeÃ§miÅŸini Koruma</h3>
<p>Etkili bir e-ticaret asistanÄ± oluÅŸturmadaki temel zorluklardan biri, konuÅŸma baÄŸlamÄ±nÄ± korumaktÄ±r. KullanÄ±cÄ±lar genellikle Ã¶nceki sorgularÄ± veya yanÄ±tlarÄ± referans alan takip sorularÄ± sorarlar.</p>
<p>Projemizde, konuÅŸma geÃ§miÅŸini saklamak iÃ§in MongoDB kullanÄ±yoruz. Her konuÅŸma, mesaj dizisi iÃ§eren bir belge olarak saklanÄ±r:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Creates a new conversation
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param {String} title - Conversation title (optional)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @returns {Promise&lt;Object&gt;} - Created conversation
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">createConversation</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">async</span> (<span style="color:#a6e22e">title</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Assign default title if null
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">conversationTitle</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">title</span> <span style="color:#f92672">||</span> <span style="color:#e6db74">&#39;New Conversation&#39;</span>;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">conversation</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Conversation</span>({
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">conversationTitle</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">messages</span><span style="color:#f92672">:</span> []
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">conversation</span>.<span style="color:#a6e22e">save</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">conversation</span>;
</span></span><span style="display:flex;"><span>  } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">error</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#39;Error creating conversation:&#39;</span>, <span style="color:#a6e22e">error</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">throw</span> <span style="color:#a6e22e">error</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Adds a message to a conversation
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param {String} conversationId - Conversation ID
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param {String} role - Message role (user/assistant)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param {String} content - Message content
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @returns {Promise&lt;Object&gt;} - Updated conversation
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">addMessageToConversation</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">async</span> (<span style="color:#a6e22e">conversationId</span>, <span style="color:#a6e22e">role</span>, <span style="color:#a6e22e">content</span>) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">conversation</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">Conversation</span>.<span style="color:#a6e22e">findById</span>(<span style="color:#a6e22e">conversationId</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">conversation</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> Error(<span style="color:#e6db74">`Conversation not found with ID: </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">conversationId</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">conversation</span>.<span style="color:#a6e22e">messages</span>.<span style="color:#a6e22e">push</span>({
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">role</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">content</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">timestamp</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">new</span> Date()
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">conversation</span>.<span style="color:#a6e22e">updatedAt</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Date();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">conversation</span>.<span style="color:#a6e22e">save</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">conversation</span>;
</span></span><span style="display:flex;"><span>  } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">error</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#39;Error adding message to conversation:&#39;</span>, <span style="color:#a6e22e">error</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">throw</span> <span style="color:#a6e22e">error</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><h3 id="takip-sorularÄ±nÄ±-tespit-etme">Takip SorularÄ±nÄ± Tespit Etme</h3>
<p>Sorunsuz bir konuÅŸma deneyimi saÄŸlamak iÃ§in, sistemimizin bir kullanÄ±cÄ±nÄ±n ne zaman takip sorusu sorduÄŸunu tespit etmesi gerekir. Bu amaÃ§la Ã¶zel bir sÄ±nÄ±flandÄ±rÄ±cÄ± ajan kullanÄ±yoruz:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Determines if a message is a follow-up question based on conversation history
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param {Array} conversationHistory - Array of previous conversation messages
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @returns {String} - JSON string indicating if message is a follow-up (true/false)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">classifierAgent</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">async</span> (<span style="color:#a6e22e">conversationHistory</span>) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Format conversation history for the AI model
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">formattedHistory</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">conversationHistory</span>
</span></span><span style="display:flex;"><span>      .<span style="color:#a6e22e">map</span>((<span style="color:#a6e22e">msg</span>) =&gt; <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">msg</span>.<span style="color:#a6e22e">role</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;user&#39;</span> <span style="color:#f92672">?</span> <span style="color:#e6db74">&#39;User&#39;</span> <span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Assistant&#39;</span><span style="color:#e6db74">}</span><span style="color:#e6db74">: </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">msg</span>.<span style="color:#a6e22e">content</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>)
</span></span><span style="display:flex;"><span>      .<span style="color:#a6e22e">join</span>(<span style="color:#e6db74">&#39;\n&#39;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">response</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">axios</span>({
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">method</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;post&#39;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;https://openrouter.ai/api/v1/chat/completions&#39;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">headers</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Authorization</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`Bearer </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">process</span>.<span style="color:#a6e22e">env</span>.<span style="color:#a6e22e">OPENROUTER_API_KEY</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;Content-Type&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;application/json&#39;</span>,
</span></span><span style="display:flex;"><span>      },
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">model</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;google/gemini-2.0-flash-001&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">messages</span><span style="color:#f92672">:</span> [
</span></span><span style="display:flex;"><span>          {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">role</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;system&#39;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">content</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`You are a sophisticated AI agent specializing in determining if a user&#39;s message is a follow-up question to a previous conversation. A follow-up question is a question that refers to or builds upon a previous question or response in the conversation. For example, if a user asks about a product and then asks about its price, the second question is a follow-up question.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            Analyze the conversation history and determine if the last user message is a follow-up question. Return only a JSON boolean value (true or false) as plain text.`</span>,
</span></span><span style="display:flex;"><span>          },
</span></span><span style="display:flex;"><span>          {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">role</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;user&#39;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">content</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`Here is the conversation history:\n</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">formattedHistory</span><span style="color:#e6db74">}</span><span style="color:#e6db74">\n\nIs the last user message a follow-up question?`</span>,
</span></span><span style="display:flex;"><span>          },
</span></span><span style="display:flex;"><span>        ],
</span></span><span style="display:flex;"><span>      },
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">response</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">choices</span>[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">message</span>.<span style="color:#a6e22e">content</span>.<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/\n+$/</span>, <span style="color:#e6db74">&#39;&#39;</span>);
</span></span><span style="display:flex;"><span>  } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">error</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#39;OpenRouter API error:&#39;</span>, <span style="color:#a6e22e">error</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;false&#39;</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p>Bir takip sorusu tespit edildiÄŸinde, arama sorgusunu Ã¶nceki mesajlardan gelen baÄŸlamÄ± iÃ§erecek ÅŸekilde geniÅŸletiyoruz:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// If it&#39;s a follow-up question, include previous user questions
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">isFollowUp</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">conversationHistory</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">3</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Find previous user messages (last 2 user messages)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">userMessages</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">conversationHistory</span>.<span style="color:#a6e22e">filter</span>((<span style="color:#a6e22e">msg</span>) =&gt; <span style="color:#a6e22e">msg</span>.<span style="color:#a6e22e">role</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;user&#39;</span>).<span style="color:#a6e22e">slice</span>(<span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">userMessages</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">2</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">previousUserMessage</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">userMessages</span>[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">content</span>; <span style="color:#75715e">// Previous user message
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">searchQuery</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">await</span> <span style="color:#a6e22e">translatorAgent</span>(<span style="color:#a6e22e">previousUserMessage</span>)<span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">translatedMessage</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">`Expanded search query (follow-up): &#34;</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">searchQuery</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;`</span>);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Bu yaklaÅŸÄ±m, bir kullanÄ±cÄ± belirli bir dizÃ¼stÃ¼ bilgisayar hakkÄ±nda soru sorduktan sonra &ldquo;Peki ya pil Ã¶mrÃ¼ nasÄ±l?&rdquo; gibi bir soru sorduÄŸunda, sistemimizin baÄŸlamÄ± anlamasÄ±nÄ± ve ilgili bilgileri saÄŸlamasÄ±nÄ± saÄŸlar.</p>
<h2 id="4-Ã§ok-dilli-destek">4. Ã‡ok Dilli Destek</h2>
<h3 id="otomatik-dil-algÄ±lama-ve-Ã§eviri">Otomatik Dil AlgÄ±lama ve Ã‡eviri</h3>
<p>E-ticaret asistanÄ±mÄ±zÄ± kÃ¼resel bir kitleye eriÅŸilebilir kÄ±lmak iÃ§in otomatik dil algÄ±lama ve Ã§eviri Ã¶zelliklerini uyguladÄ±k. Bu, kullanÄ±cÄ±larÄ±n anlamsal arama yeteneklerini korurken sistem ile tercih ettikleri dilde etkileÅŸime girmelerini saÄŸlar.</p>
<p>KullanÄ±cÄ± sorgularÄ±nÄ± iÅŸleme iÃ§in Ä°ngilizce&rsquo;ye Ã§evirmek Ã¼zere bir Ã§evirmen ajan kullanÄ±yoruz:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Translates user messages to English
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param {String} message - User message to translate
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @returns {String} - Translated message in English
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">translatorAgent</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">async</span> (<span style="color:#a6e22e">message</span>) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">response</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">axios</span>({
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">method</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;post&#39;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;https://openrouter.ai/api/v1/chat/completions&#39;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">headers</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Authorization</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`Bearer </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">process</span>.<span style="color:#a6e22e">env</span>.<span style="color:#a6e22e">OPENROUTER_API_KEY</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;Content-Type&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;application/json&#39;</span>,
</span></span><span style="display:flex;"><span>      },
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">model</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;google/gemini-2.0-flash-001&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">messages</span><span style="color:#f92672">:</span> [
</span></span><span style="display:flex;"><span>          {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">role</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;system&#39;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">content</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`You are a sophisticated AI agent specializing in translating user queries from multiple languages into English. Before translating, you identify and correct typos, grammatical errors, and punctuation mistakes in the source text to ensure clarity and readability. Your translations should maintain the original context and be culturally nuanced. Return only the translated text as plain text.`</span>,
</span></span><span style="display:flex;"><span>          },
</span></span><span style="display:flex;"><span>          {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">role</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;user&#39;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">content</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">message</span>,
</span></span><span style="display:flex;"><span>          },
</span></span><span style="display:flex;"><span>        ],
</span></span><span style="display:flex;"><span>      },
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">response</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">choices</span>[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">message</span>.<span style="color:#a6e22e">content</span>.<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/\n+$/</span>, <span style="color:#e6db74">&#39;&#39;</span>);
</span></span><span style="display:flex;"><span>  } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">error</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#39;OpenRouter API error:&#39;</span>, <span style="color:#a6e22e">error</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">message</span>; <span style="color:#75715e">// Fallback to original message
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p>Sistem daha sonra kullanÄ±cÄ±nÄ±n sorgusuyla aynÄ± dilde yanÄ±t verir. Bu, kullanÄ±cÄ±nÄ±n dilini eÅŸleÅŸtirmesi iÃ§in talimat verilen AI servisimiz tarafÄ±ndan yÃ¶netilir:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">messageContent</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  You are a helpful shopping assistant that can answer questions about products. Based on the user&#39;s question &#34;</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">prompt</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;, analyze the product information in the context: </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">context</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> and return information only about the most relevant matching product(s). Answer questions related to the </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">category</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> of the product(s). Answer as humanly as possible and in the same language as the </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">prompt</span><span style="color:#e6db74">}</span><span style="color:#e6db74">, but be careful with special names such as brand, model, etc. - don&#39;t translate those.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  // ... additional instructions ...
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">`</span>;
</span></span></code></pre></div><h3 id="dil-duyarlÄ±-Ã¼rÃ¼n-bilgileri">Dil DuyarlÄ± ÃœrÃ¼n Bilgileri</h3>
<p>ÃœrÃ¼n bilgilerini gÃ¶rÃ¼ntÃ¼lerken, sistemin kullanÄ±cÄ±nÄ±n dil tercihini korumasÄ±nÄ± saÄŸlÄ±yoruz. AI, marka adlarÄ±, model numaralarÄ± ve teknik Ã¶zellikleri korurken aÃ§Ä±klamalarÄ± kullanÄ±cÄ±nÄ±n dilinde oluÅŸturur.</p>
<p>Ã–rneÄŸin, bir kullanÄ±cÄ± TÃ¼rkÃ§e olarak &ldquo;Oyun iÃ§in iyi bir laptop Ã¶nerir misiniz?&rdquo; diye sorduÄŸunda, sistem:</p>
<ol>
<li>Sorguyu Ä°ngilizce&rsquo;ye Ã§evirir: &ldquo;Can you recommend a good laptop for gaming?&rdquo;</li>
<li>Ä°ngilizce sorgu kullanarak anlamsal arama gerÃ§ekleÅŸtirir</li>
<li>VektÃ¶r veritabanÄ±ndan ilgili oyun dizÃ¼stÃ¼ bilgisayarlarÄ±nÄ± getirir</li>
<li>Teknik terimleri koruyarak oyun dizÃ¼stÃ¼ bilgisayarlarÄ±nÄ± TÃ¼rkÃ§e olarak aÃ§Ä±klayan bir yanÄ±t oluÅŸturur</li>
</ol>
<p>Bu yaklaÅŸÄ±m, her dil iÃ§in ayrÄ± Ã¼rÃ¼n veritabanlarÄ± gerektirmeden sorunsuz bir Ã§ok dilli deneyim saÄŸlar.</p>
<h2 id="5-ai-yanÄ±t-Ã¼retimi">5. AI YanÄ±t Ãœretimi</h2>
<h3 id="baÄŸlamsal-yanÄ±t-Ã¼retimi">BaÄŸlamsal YanÄ±t Ãœretimi</h3>
<p>Ä°lgili Ã¼rÃ¼n bilgilerini aldÄ±ktan sonra, yardÄ±mcÄ± ve baÄŸlamsal bir yanÄ±t Ã¼retmemiz gerekiyor. Bu amaÃ§la Gemini API&rsquo;sini kullanÄ±yoruz ve gerekirse OpenRouter&rsquo;a yedekleme yapÄ±yoruz:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Generates a response using Gemini or falls back to OpenRouter API
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param {String} prompt - User message
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param {String} context - Product information or other context
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param {String} category - Message category
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param {Array} conversationHistory - Conversation history
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @returns {String} - AI response
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">generateGeminiResponse</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">async</span> (<span style="color:#a6e22e">prompt</span>, <span style="color:#a6e22e">context</span>, <span style="color:#a6e22e">category</span>, <span style="color:#a6e22e">conversationHistory</span> <span style="color:#f92672">=</span> []) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Format conversation history for the AI model
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">formattedHistory</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">conversationHistory</span>
</span></span><span style="display:flex;"><span>      .<span style="color:#a6e22e">map</span>((<span style="color:#a6e22e">msg</span>) =&gt; <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">msg</span>.<span style="color:#a6e22e">role</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;user&#39;</span> <span style="color:#f92672">?</span> <span style="color:#e6db74">&#39;User&#39;</span> <span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Assistant&#39;</span><span style="color:#e6db74">}</span><span style="color:#e6db74">: </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">msg</span>.<span style="color:#a6e22e">content</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>)
</span></span><span style="display:flex;"><span>      .<span style="color:#a6e22e">join</span>(<span style="color:#e6db74">&#39;\n&#39;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">messageContent</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      You are a helpful shopping assistant that can answer questions about products. Based on the user&#39;s question &#34;</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">prompt</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;, analyze the product information in the context: </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">context</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> and return information only about the most relevant matching product(s). Answer questions related to the </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">category</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> of the product(s). Answer as humanly as possible and in the same language as the </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">prompt</span><span style="color:#e6db74">}</span><span style="color:#e6db74">, but be careful with special names such as brand, model, etc. - don&#39;t translate those.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      If the category is [PRODUCT_INFO] and the question is about general product information (like price, features, specifications etc), include [SHOW_PRODUCT_INFO] at the end of your response so that product information can be formatted and displayed to the user.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      If the question is specifically about product reviews, ratings or customer feedback, do not include [SHOW_PRODUCT_INFO]. Instead, focus on providing a summary of the reviews and ratings from the available data.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      Also consider follow up questions. If the user asks a follow up question about a product mentioned earlier, your answer should be about the SAME product. Do not switch to a different product unless the user explicitly asks about a new product.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      At the end of your response, include a JSON object with an array of product IDs that you referenced in your answer, in the format: [PRODUCT_IDS]{&#34;ids&#34;:[&#34;id1&#34;,&#34;id2&#34;]}[/PRODUCT_IDS]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      Here is the conversation history so far:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">formattedHistory</span><span style="color:#e6db74">}</span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      User: </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">prompt</span><span style="color:#e6db74">}</span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      Assistant:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    `</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// Use Gemini API
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">model</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">genAI</span>.<span style="color:#a6e22e">getGenerativeModel</span>({
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">model</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;gemini-2.0-flash&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">systemInstruction</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">messageContent</span>,
</span></span><span style="display:flex;"><span>      });
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">res</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">model</span>.<span style="color:#a6e22e">generateContent</span>(<span style="color:#a6e22e">prompt</span>);
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">response</span>.<span style="color:#a6e22e">text</span>();
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">geminiError</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// Fall back to OpenRouter API if Gemini fails
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;Gemini API failed, trying OpenRouter API...&#39;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">openRouterResponse</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">axios</span>.<span style="color:#a6e22e">post</span>(
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;https://openrouter.ai/api/v1/chat/completions&#39;</span>,
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">model</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;anthropic/claude-3-opus:beta&#39;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">messages</span><span style="color:#f92672">:</span> [{ <span style="color:#a6e22e">role</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;user&#39;</span>, <span style="color:#a6e22e">content</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">messageContent</span> }],
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">headers</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">Authorization</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`Bearer </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">process</span>.<span style="color:#a6e22e">env</span>.<span style="color:#a6e22e">OPENROUTER_API_KEY</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;Content-Type&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;application/json&#39;</span>,
</span></span><span style="display:flex;"><span>          },
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      );
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">openRouterResponse</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">choices</span>[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">message</span>.<span style="color:#a6e22e">content</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">error</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#39;Error generating AI response:&#39;</span>, <span style="color:#a6e22e">error</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;Sorry, an error occurred while generating a response: &#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">error</span>.<span style="color:#a6e22e">message</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><h3 id="Ã¼rÃ¼n-bilgisi-gÃ¶rÃ¼ntÃ¼leme">ÃœrÃ¼n Bilgisi GÃ¶rÃ¼ntÃ¼leme</h3>
<p>KullanÄ±cÄ± deneyimini geliÅŸtirmek iÃ§in Ã¼rÃ¼n bilgilerini gÃ¶rsel olarak Ã§ekici bir ÅŸekilde biÃ§imlendiriyoruz. AI yanÄ±tÄ±, Ã¼rÃ¼n detaylarÄ±nÄ±n gÃ¶rÃ¼ntÃ¼lenmesi gerektiÄŸinde Ã¶zel bir etiket <code>[SHOW_PRODUCT_INFO]</code> iÃ§erir:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Formats product information into HTML for display
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param {Array} products - Array of product objects
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @returns {String} - HTML formatted product information
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">formatProductInfo</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">products</span>) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">products</span> <span style="color:#f92672">||</span> <span style="color:#a6e22e">products</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;Ä°lgili Ã¼rÃ¼n bilgisi bulunamadÄ±.&#39;</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">products</span>.<span style="color:#a6e22e">error</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">products</span>.<span style="color:#a6e22e">message</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">productsHTML</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&lt;div class=&#34;products-container&#34;&gt;&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">products</span>.<span style="color:#a6e22e">forEach</span>((<span style="color:#a6e22e">product</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">parsedProduct</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">typeof</span> <span style="color:#a6e22e">product</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;string&#39;</span> <span style="color:#f92672">?</span> <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">parse</span>(<span style="color:#a6e22e">product</span>) <span style="color:#f92672">:</span> <span style="color:#a6e22e">product</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">productsHTML</span> <span style="color:#f92672">+=</span> <span style="color:#e6db74">`
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      &lt;div class=&#34;product-card&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        &lt;div class=&#34;product-image&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">          &lt;img src=&#34;</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">parsedProduct</span>.<span style="color:#a6e22e">thumbnail</span> <span style="color:#f92672">||</span> <span style="color:#a6e22e">parsedProduct</span>.<span style="color:#a6e22e">images</span><span style="color:#f92672">?</span>.[<span style="color:#ae81ff">0</span>]<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34; 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">               alt=&#34;</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">parsedProduct</span>.<span style="color:#a6e22e">title</span> <span style="color:#f92672">||</span> <span style="color:#e6db74">&#39;ÃœrÃ¼n GÃ¶rseli&#39;</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34; 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">               loading=&#34;lazy&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        &lt;div class=&#34;product-info&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">          &lt;h3 class=&#34;product-title&#34;&gt;</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">parsedProduct</span>.<span style="color:#a6e22e">title</span> <span style="color:#f92672">||</span> <span style="color:#e6db74">&#39;Ä°sim belirtilmemiÅŸ&#39;</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&lt;/h3&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">          &lt;p class=&#34;product-description&#34;&gt;</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">parsedProduct</span>.<span style="color:#a6e22e">description</span> <span style="color:#f92672">||</span> <span style="color:#e6db74">&#39;AÃ§Ä±klama belirtilmemiÅŸ&#39;</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&lt;/p&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">          &lt;div class=&#34;product-price-container&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            &lt;span class=&#34;product-price&#34;&gt;$</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">parsedProduct</span>.<span style="color:#a6e22e">price</span> <span style="color:#f92672">||</span> <span style="color:#e6db74">&#39;Fiyat belirtilmemiÅŸ&#39;</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&lt;/span&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">          &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">          &lt;a href=&#34;/product/</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">parsedProduct</span>.<span style="color:#a6e22e">id</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34; class=&#34;product-detail-button&#34; target=&#34;_blank&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            Detaylar
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">          &lt;/a&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      &lt;/div&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    `</span>;
</span></span><span style="display:flex;"><span>  });
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">productsHTML</span> <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#39;&lt;/div&gt;&#39;</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">productsHTML</span>;
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p>AI ayrÄ±ca yanÄ±tÄ±nda Ã¼rÃ¼n ID&rsquo;lerini belirterek hangi Ã¼rÃ¼nlerin gÃ¶rÃ¼ntÃ¼leneceÄŸini de belirleyebilir:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// Extract product IDs from AI response
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">productIdsMatch</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">response</span>.<span style="color:#a6e22e">match</span>(<span style="color:#e6db74">/\[PRODUCT_IDS\](.*?)\[\/PRODUCT_IDS\]/</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">productsToShow</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">productIdsMatch</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Get product IDs specified by AI
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">productIds</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">parse</span>(<span style="color:#a6e22e">productIdsMatch</span>[<span style="color:#ae81ff">1</span>]).<span style="color:#a6e22e">ids</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Filter products to only show those with specified IDs
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">productsToShow</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">products</span>.<span style="color:#a6e22e">filter</span>((<span style="color:#a6e22e">product</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">parsedProduct</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">typeof</span> <span style="color:#a6e22e">product</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;string&#39;</span> <span style="color:#f92672">?</span> <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">parse</span>(<span style="color:#a6e22e">product</span>) <span style="color:#f92672">:</span> <span style="color:#a6e22e">product</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">productIds</span>.<span style="color:#a6e22e">includes</span>(<span style="color:#a6e22e">parsedProduct</span>.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">toString</span>());
</span></span><span style="display:flex;"><span>  });
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Remove ID tags from response
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">response</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">response</span>.<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/\[PRODUCT_IDS\].*?\[\/PRODUCT_IDS\]/</span>, <span style="color:#e6db74">&#39;&#39;</span>);
</span></span><span style="display:flex;"><span>} <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Show all products if no IDs specified
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">productsToShow</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">products</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Format product information and add to response
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">productInfo</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">productService</span>.<span style="color:#a6e22e">formatProductInfo</span>(<span style="color:#a6e22e">productsToShow</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">response</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">response</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">productInfo</span>;
</span></span></code></pre></div><p>Bu yaklaÅŸÄ±m, AI&rsquo;nin konuÅŸma tarzÄ±nda bir yanÄ±t saÄŸlarken aynÄ± zamanda uygun olduÄŸunda yapÄ±landÄ±rÄ±lmÄ±ÅŸ Ã¼rÃ¼n bilgilerini de gÃ¶rÃ¼ntÃ¼lemesine olanak tanÄ±r.</p>
<h2 id="6-mesaj-kategorizasyonu">6. Mesaj Kategorizasyonu</h2>
<h3 id="kullanÄ±cÄ±-niyetini-anlama">KullanÄ±cÄ± Niyetini Anlama</h3>
<p>Daha ilgili yanÄ±tlar saÄŸlamak iÃ§in, kullanÄ±cÄ± mesajlarÄ±nÄ± niyetlerine gÃ¶re kategorize ediyoruz. Bu, sistemin nasÄ±l yanÄ±t vereceÄŸini ve hangi bilgileri dahil edeceÄŸini belirlemesine yardÄ±mcÄ± olur:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Categorizes user messages into predefined categories
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param {String} message - User message to categorize
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @returns {String} - Category of the message
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">categorizerAgent</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">async</span> (<span style="color:#a6e22e">message</span>) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">response</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">axios</span>({
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">method</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;post&#39;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;https://openrouter.ai/api/v1/chat/completions&#39;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">headers</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Authorization</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`Bearer </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">process</span>.<span style="color:#a6e22e">env</span>.<span style="color:#a6e22e">OPENROUTER_API_KEY</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;Content-Type&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;application/json&#39;</span>,
</span></span><span style="display:flex;"><span>      },
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">model</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;google/gemini-2.0-flash-001&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">messages</span><span style="color:#f92672">:</span> [
</span></span><span style="display:flex;"><span>          {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">role</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;system&#39;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">content</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`You are a sophisticated AI agent specializing in categorizing user queries into one of the following categories:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            [PRODUCT_INFO] - Questions about product information, features, specifications, price, etc.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            [PRODUCT_COMPARISON] - Questions comparing multiple products
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            [PRODUCT_RECOMMENDATION] - Questions asking for product recommendations
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            [PRODUCT_AVAILABILITY] - Questions about product availability
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            [PRODUCT_REVIEWS] - Questions about product reviews or ratings
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            [GENERAL_INQUIRY] - General questions not related to specific products
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            [CUSTOMER_SERVICE] - Questions about customer service, shipping, returns, etc.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            [OTHER] - Any other type of question
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            Return only the category as plain text.`</span>,
</span></span><span style="display:flex;"><span>          },
</span></span><span style="display:flex;"><span>          {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">role</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;user&#39;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">content</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">message</span>,
</span></span><span style="display:flex;"><span>          },
</span></span><span style="display:flex;"><span>        ],
</span></span><span style="display:flex;"><span>      },
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">response</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">choices</span>[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">message</span>.<span style="color:#a6e22e">content</span>.<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/\n+$/</span>, <span style="color:#e6db74">&#39;&#39;</span>);
</span></span><span style="display:flex;"><span>  } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">error</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#39;OpenRouter API error:&#39;</span>, <span style="color:#a6e22e">error</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;[GENERAL_INQUIRY]&#39;</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><h3 id="kategoriye-gÃ¶re-yanÄ±t-Ã¶zelleÅŸtirme">Kategoriye GÃ¶re YanÄ±t Ã–zelleÅŸtirme</h3>
<p>FarklÄ± soru kategorileri farklÄ± tÃ¼rde yanÄ±tlar gerektirir. Sistemimiz tespit edilen kategoriye gÃ¶re davranÄ±ÅŸÄ±nÄ± ayarlar:</p>
<ul>
<li><strong>[PRODUCT_INFO]</strong>: DetaylÄ± Ã¼rÃ¼n Ã¶zellikleri iÃ§erir ve Ã¼rÃ¼n kartlarÄ±nÄ± gÃ¶rÃ¼ntÃ¼ler</li>
<li><strong>[PRODUCT_COMPARISON]</strong>: ÃœrÃ¼nler arasÄ±ndaki farklarÄ± vurgular</li>
<li><strong>[PRODUCT_RECOMMENDATION]</strong>: KullanÄ±cÄ± kriterlerine gÃ¶re Ã¼rÃ¼nler Ã¶nerir</li>
<li><strong>[PRODUCT_REVIEWS]</strong>: MÃ¼ÅŸteri geri bildirimleri ve deÄŸerlendirmelerine odaklanÄ±r</li>
<li><strong>[GENERAL_INQUIRY]</strong>: Belirli Ã¼rÃ¼n detaylarÄ± olmadan genel bilgi saÄŸlar</li>
</ul>
<p>Bu kategorizasyon, sistemin Ã§ok Ã§eÅŸitli kullanÄ±cÄ± sorgularÄ±na daha ilgili ve yardÄ±mcÄ± yanÄ±tlar saÄŸlamasÄ±na yardÄ±mcÄ± olur.</p>
<h2 id="7-sistem-mimarisi-ve-uygulama">7. Sistem Mimarisi ve Uygulama</h2>
<h3 id="temiz-mimari-tasarÄ±mÄ±">Temiz Mimari TasarÄ±mÄ±</h3>
<p>EcommerceRAG projemiz, net bir sorumluluk ayrÄ±mÄ± ile temiz mimari desenini takip eder:</p>
<ul>
<li><strong>Controllers</strong>: HTTP isteklerini ve yanÄ±tlarÄ±nÄ± yÃ¶netir</li>
<li><strong>Services</strong>: Ä°ÅŸ mantÄ±ÄŸÄ±nÄ± ve harici API etkileÅŸimlerini iÃ§erir</li>
<li><strong>Routes</strong>: API uÃ§ noktalarÄ±nÄ± tanÄ±mlar</li>
<li><strong>Utils</strong>: YardÄ±mcÄ± fonksiyonlarÄ± saÄŸlar</li>
<li><strong>Config</strong>: YapÄ±landÄ±rma ayarlarÄ±nÄ± yÃ¶netir</li>
<li><strong>Middlewares</strong>: Ara yazÄ±lÄ±m fonksiyonlarÄ±nÄ± uygular</li>
</ul>
<p>Bu modÃ¼ler tasarÄ±m, kod tabanÄ±nÄ± daha bakÄ±mÄ± kolay, test edilebilir ve Ã¶lÃ§eklenebilir hale getirir.</p>
<h3 id="ana-bileÅŸenler">Ana BileÅŸenler</h3>
<p>Sistemimizin ana bileÅŸenleri ÅŸunlarÄ± iÃ§erir:</p>
<ol>
<li><strong>Chat Controller</strong>: KullanÄ±cÄ± mesajlarÄ±nÄ± iÅŸler ve yanÄ±t Ã¼retimini koordine eder</li>
<li><strong>Vector Service</strong>: Weaviate vektÃ¶r veritabanÄ± ile etkileÅŸimleri yÃ¶netir</li>
<li><strong>AI Service</strong>: AI model etkileÅŸimlerini yÃ¶netir (Gemini ve OpenAI)</li>
<li><strong>Product Service</strong>: ÃœrÃ¼nle ilgili servisleri saÄŸlar</li>
<li><strong>Conversation Service</strong>: KonuÅŸma kalÄ±cÄ±lÄ±ÄŸÄ±nÄ± ve eriÅŸimini yÃ¶netir</li>
<li><strong>Agent Controller</strong>: Ã‡eviri, kategorizasyon ve sÄ±nÄ±flandÄ±rma iÃ§in ajan mantÄ±ÄŸÄ±nÄ± iÃ§erir</li>
</ol>
<h3 id="iÅŸlem-akÄ±ÅŸÄ±">Ä°ÅŸlem AkÄ±ÅŸÄ±</h3>
<p>Sistemimizde ana iÅŸlem akÄ±ÅŸÄ± <code>processChat</code> fonksiyonu tarafÄ±ndan yÃ¶netilir:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Processes chat messages and generates AI responses
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param {Object} req - Express request object
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param {Object} res - Express response object
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">processChat</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">async</span> (<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> { <span style="color:#a6e22e">message</span>, <span style="color:#a6e22e">conversationId</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">body</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">message</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span>(<span style="color:#ae81ff">400</span>).<span style="color:#a6e22e">json</span>({ <span style="color:#a6e22e">error</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Message is required&#39;</span> });
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Categorize the message
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">category</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">categorizerAgent</span>(<span style="color:#a6e22e">message</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Get existing conversation or create new one
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">conversation</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">conversationId</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">conversation</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">conversationService</span>.<span style="color:#a6e22e">getConversationById</span>(<span style="color:#a6e22e">conversationId</span>);
</span></span><span style="display:flex;"><span>      } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">conversation</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">conversationService</span>.<span style="color:#a6e22e">createConversation</span>();
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">error</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// Create a new conversation in case of error
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">conversation</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">conversationService</span>.<span style="color:#a6e22e">createConversation</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Add user message to conversation
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">conversationService</span>.<span style="color:#a6e22e">addMessageToConversation</span>(<span style="color:#a6e22e">conversation</span>.<span style="color:#a6e22e">_id</span>, <span style="color:#e6db74">&#39;user&#39;</span>, <span style="color:#a6e22e">message</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Get conversation history (last 4 messages)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">conversationHistory</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">conversationService</span>.<span style="color:#a6e22e">getConversationMessages</span>(<span style="color:#a6e22e">conversation</span>.<span style="color:#a6e22e">_id</span>, <span style="color:#ae81ff">4</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Translate message to English
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">translatedMessage</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">translatorAgent</span>(<span style="color:#a6e22e">message</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Determine if message is a follow-up question
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">isFollowUp</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">conversationHistory</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">3</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// Use classifierAgent to determine if it&#39;s a follow-up
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">response</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">classifierAgent</span>(<span style="color:#a6e22e">conversationHistory</span>);
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">parsedResponse</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">parse</span>(<span style="color:#a6e22e">response</span>);
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">isFollowUp</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">parsedResponse</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Prepare search query
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">searchQuery</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">translatedMessage</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">isFollowUp</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">conversationHistory</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">3</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// Find previous user messages (last 2 user messages)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">userMessages</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">conversationHistory</span>.<span style="color:#a6e22e">filter</span>((<span style="color:#a6e22e">msg</span>) =&gt; <span style="color:#a6e22e">msg</span>.<span style="color:#a6e22e">role</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;user&#39;</span>).<span style="color:#a6e22e">slice</span>(<span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">userMessages</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">2</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">previousUserMessage</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">userMessages</span>[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">content</span>; <span style="color:#75715e">// Previous user message
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">searchQuery</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">await</span> <span style="color:#a6e22e">translatorAgent</span>(<span style="color:#a6e22e">previousUserMessage</span>)<span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">translatedMessage</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>;
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Get product information from Weaviate
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">products</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">vectorService</span>.<span style="color:#a6e22e">getProductInfo</span>(<span style="color:#a6e22e">searchQuery</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Process response based on product information
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">response</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">products</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">products</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// Send product information to AI in JSON format
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">productContext</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">products</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// Send category and conversation history to AI
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">response</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">aiService</span>.<span style="color:#a6e22e">generateGeminiResponse</span>(<span style="color:#a6e22e">message</span>, <span style="color:#a6e22e">productContext</span>, <span style="color:#a6e22e">category</span>, <span style="color:#a6e22e">conversationHistory</span>);
</span></span><span style="display:flex;"><span>      
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// Clean [SHOW_PRODUCT_INFO] tag
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">cleanedResponse</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">response</span>.<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">&#39;[SHOW_PRODUCT_INFO]&#39;</span>, <span style="color:#e6db74">&#39;&#39;</span>);
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">conversationService</span>.<span style="color:#a6e22e">addMessageToConversation</span>(<span style="color:#a6e22e">conversation</span>.<span style="color:#a6e22e">_id</span>, <span style="color:#e6db74">&#39;assistant&#39;</span>, <span style="color:#a6e22e">cleanedResponse</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// Check if product information should be displayed
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">response</span>.<span style="color:#a6e22e">includes</span>(<span style="color:#e6db74">&#39;[SHOW_PRODUCT_INFO]&#39;</span>)) {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Process and display product information
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// ... (code omitted for brevity)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      }
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// If no product information found
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">productInfo</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>({ <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Ä°lgili Ã¼rÃ¼n bilgisi bulunamadÄ±.&#39;</span> });
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">response</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">aiService</span>.<span style="color:#a6e22e">generateGeminiResponse</span>(<span style="color:#a6e22e">message</span>, <span style="color:#a6e22e">productInfo</span>, <span style="color:#a6e22e">category</span>, <span style="color:#a6e22e">conversationHistory</span>);
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">cleanedResponse</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">response</span>.<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">&#39;[SHOW_PRODUCT_INFO]&#39;</span>, <span style="color:#e6db74">&#39;&#39;</span>);
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">conversationService</span>.<span style="color:#a6e22e">addMessageToConversation</span>(<span style="color:#a6e22e">conversation</span>.<span style="color:#a6e22e">_id</span>, <span style="color:#e6db74">&#39;assistant&#39;</span>, <span style="color:#a6e22e">cleanedResponse</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Return response
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">json</span>({
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">response</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">response</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">conversationId</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">conversation</span>.<span style="color:#a6e22e">_id</span>.<span style="color:#a6e22e">toString</span>(),
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">timestamp</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">new</span> Date().<span style="color:#a6e22e">toISOString</span>(),
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>  } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">error</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#39;Chat processing error:&#39;</span>, <span style="color:#a6e22e">error</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span>(<span style="color:#ae81ff">500</span>).<span style="color:#a6e22e">json</span>({ <span style="color:#a6e22e">error</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Mesaj iÅŸlenirken bir hata oluÅŸtu: &#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">error</span>.<span style="color:#a6e22e">message</span> });
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p>Bu fonksiyon, kullanÄ±cÄ± mesajÄ±nÄ± almaktan AI tarafÄ±ndan oluÅŸturulan yanÄ±tÄ± dÃ¶ndÃ¼rmeye kadar tÃ¼m sÃ¼reci orkestra eder.</p>
<h2 id="8-frontend-entegrasyonu">8. Frontend Entegrasyonu</h2>
<h3 id="sohbet-widgetÄ±-uygulamasÄ±">Sohbet Widget&rsquo;Ä± UygulamasÄ±</h3>
<p>RAG sistemimizi kullanÄ±cÄ±lara eriÅŸilebilir kÄ±lmak iÃ§in, herhangi bir e-ticaret web sitesine kolayca entegre edilebilen bir sohbet widget&rsquo;Ä± uyguladÄ±k. Widget, vanilla JavaScript ile oluÅŸturulmuÅŸtur ve herhangi bir sayfaya basit bir script etiketi ile eklenebilir:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://your-domain.com/js/widget.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
</span></span></code></pre></div><p>Widget, kullanÄ±cÄ±larÄ±n AI asistanÄ±mÄ±zla etkileÅŸime girmesi iÃ§in temiz, sezgisel bir arayÃ¼z saÄŸlar:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// Widget initialization
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">initWidget</span>() {
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Create widget HTML
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">widgetContainer</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">createElement</span>(<span style="color:#e6db74">&#39;div&#39;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">widgetContainer</span>.<span style="color:#a6e22e">innerHTML</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">createWidgetHTML</span>();
</span></span><span style="display:flex;"><span>  document.<span style="color:#a6e22e">body</span>.<span style="color:#a6e22e">appendChild</span>(<span style="color:#a6e22e">widgetContainer</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Set up event listeners
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">chatForm</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;chachaForm&#39;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">messageInput</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;chachaMessageInput&#39;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">chatMessages</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;chachaMessages&#39;</span>);
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Initialize conversationId as null (no longer using localStorage)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">conversationId</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Add welcome message
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">addMessage</span>(<span style="color:#e6db74">&#39;Merhaba! AlÄ±ÅŸveriÅŸinizde size nasÄ±l yardÄ±mcÄ± olabilirim?&#39;</span>, <span style="color:#e6db74">&#39;bot&#39;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Form submission handler
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">chatForm</span>.<span style="color:#a6e22e">addEventListener</span>(<span style="color:#e6db74">&#39;submit&#39;</span>, <span style="color:#66d9ef">async</span> (<span style="color:#a6e22e">e</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">preventDefault</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">message</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">messageInput</span>.<span style="color:#a6e22e">value</span>.<span style="color:#a6e22e">trim</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">message</span>) <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Add user message to chat
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">addMessage</span>(<span style="color:#a6e22e">message</span>, <span style="color:#e6db74">&#39;user&#39;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">messageInput</span>.<span style="color:#a6e22e">value</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">messageInput</span>.<span style="color:#a6e22e">style</span>.<span style="color:#a6e22e">height</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;auto&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Add loading indicator
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">loadingMessage</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">addLoadingMessage</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// Send message to API
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">response</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">fetch</span>(<span style="color:#e6db74">&#39;/api/chat&#39;</span>, {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">method</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;POST&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">headers</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#39;Content-Type&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;application/json&#39;</span>,
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">body</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>({
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">message</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">conversationId</span>,
</span></span><span style="display:flex;"><span>        }),
</span></span><span style="display:flex;"><span>      });
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// Remove loading indicator
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">loadingMessage</span>.<span style="color:#a6e22e">remove</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">response</span>.<span style="color:#a6e22e">ok</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">data</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">response</span>.<span style="color:#a6e22e">json</span>();
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Add AI response to chat
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">response</span>) {
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">addMessage</span>(<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">response</span>, <span style="color:#e6db74">&#39;bot&#39;</span>, <span style="color:#66d9ef">true</span>);
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">data</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">message</span>) {
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">addMessage</span>(<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">message</span>, <span style="color:#e6db74">&#39;bot&#39;</span>, <span style="color:#66d9ef">true</span>);
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">message</span>) {
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">addMessage</span>(<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">message</span>, <span style="color:#e6db74">&#39;bot&#39;</span>, <span style="color:#66d9ef">true</span>);
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">addMessage</span>(<span style="color:#e6db74">&#39;ÃœzgÃ¼nÃ¼m, bir hata oluÅŸtu. LÃ¼tfen tekrar deneyin.&#39;</span>, <span style="color:#e6db74">&#39;bot&#39;</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Store conversation ID for future messages
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">conversationId</span>) {
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">conversationId</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">conversationId</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">addMessage</span>(<span style="color:#e6db74">&#39;ÃœzgÃ¼nÃ¼m, bir hata oluÅŸtu. LÃ¼tfen tekrar deneyin.&#39;</span>, <span style="color:#e6db74">&#39;bot&#39;</span>);
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">error</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#39;Error:&#39;</span>, <span style="color:#a6e22e">error</span>);
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">loadingMessage</span>.<span style="color:#a6e22e">remove</span>();
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">addMessage</span>(<span style="color:#e6db74">&#39;ÃœzgÃ¼nÃ¼m, bir hata oluÅŸtu. LÃ¼tfen tekrar deneyin.&#39;</span>, <span style="color:#e6db74">&#39;bot&#39;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  });
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">###</span> <span style="color:#a6e22e">DuyarlÄ±</span> <span style="color:#a6e22e">TasarÄ±m</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Sohbet</span> <span style="color:#a6e22e">widget</span><span style="color:#e6db74">&#39;Ä± hem masaÃ¼stÃ¼ hem de mobil cihazlarda iyi Ã§alÄ±ÅŸacak ÅŸekilde duyarlÄ± olarak tasarlanmÄ±ÅŸtÄ±r:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">```javascript
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">// Mobile device detection
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">const isMobile = window.matchMedia(&#39;</span>(<span style="color:#a6e22e">max</span><span style="color:#f92672">-</span><span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">480</span><span style="color:#a6e22e">px</span>)<span style="color:#e6db74">&#39;).matches;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">// Chat toggle functionality
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">chatToggle.addEventListener(&#39;</span><span style="color:#a6e22e">click</span><span style="color:#e6db74">&#39;, () =&gt; {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  chatContainer.classList.toggle(&#39;</span><span style="color:#a6e22e">collapsed</span><span style="color:#e6db74">&#39;);
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  // Prevent body scroll when chat is open on mobile
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  if (isMobile &amp;&amp; !chatContainer.classList.contains(&#39;</span><span style="color:#a6e22e">collapsed</span><span style="color:#e6db74">&#39;)) {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    document.body.style.overflow = &#39;</span><span style="color:#a6e22e">hidden</span><span style="color:#e6db74">&#39;;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  } else if (isMobile) {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    document.body.style.overflow = &#39;&#39;;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">});
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">// Window resize handler
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">window.addEventListener(&#39;</span><span style="color:#a6e22e">resize</span><span style="color:#e6db74">&#39;, () =&gt; {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  const isMobileNow = window.matchMedia(&#39;</span>(<span style="color:#a6e22e">max</span><span style="color:#f92672">-</span><span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">480</span><span style="color:#a6e22e">px</span>)<span style="color:#e6db74">&#39;).matches;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  // Update body scroll behavior on resize
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  if (isMobileNow &amp;&amp; !chatContainer.classList.contains(&#39;</span><span style="color:#a6e22e">collapsed</span><span style="color:#e6db74">&#39;)) {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    document.body.style.overflow = &#39;</span><span style="color:#a6e22e">hidden</span><span style="color:#e6db74">&#39;;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  } else if (isMobileNow) {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    document.body.style.overflow = &#39;</span><span style="color:#960050;background-color:#1e0010">&#39;</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></div><h3 id="html-oluÅŸturma-ve-stil">HTML OluÅŸturma ve Stil</h3>
<p>Widget, temiz, modern bir gÃ¶rÃ¼nÃ¼m iÃ§in CSS stilleri iÃ§erir:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span>.<span style="color:#a6e22e">chacha-widget</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">position</span>: <span style="color:#66d9ef">fixed</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">bottom</span>: <span style="color:#ae81ff">20</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">right</span>: <span style="color:#ae81ff">20</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">z-index</span>: <span style="color:#ae81ff">1000</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">font-family</span>: <span style="color:#e6db74">&#39;Segoe UI&#39;</span>, Tahoma, Geneva, Verdana, <span style="color:#66d9ef">sans-serif</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">chat-toggle</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">60</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">height</span>: <span style="color:#ae81ff">60</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">border-radius</span>: <span style="color:#ae81ff">50</span><span style="color:#66d9ef">%</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">background-color</span>: <span style="color:#ae81ff">#2563EB</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">color</span>: <span style="color:#66d9ef">white</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">border</span>: <span style="color:#66d9ef">none</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">cursor</span>: <span style="color:#66d9ef">pointer</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">flex</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">align-items</span>: <span style="color:#66d9ef">center</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">justify-content</span>: <span style="color:#66d9ef">center</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">box-shadow</span>: <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">4</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">12</span><span style="color:#66d9ef">px</span> rgba(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0.15</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">transition</span>: <span style="color:#66d9ef">all</span> <span style="color:#ae81ff">0.3</span><span style="color:#66d9ef">s</span> <span style="color:#66d9ef">ease</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">chat-container</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">position</span>: <span style="color:#66d9ef">absolute</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">bottom</span>: <span style="color:#ae81ff">80</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">right</span>: <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">350</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">height</span>: <span style="color:#ae81ff">500</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">background-color</span>: <span style="color:#66d9ef">white</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">border-radius</span>: <span style="color:#ae81ff">12</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">box-shadow</span>: <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">5</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">25</span><span style="color:#66d9ef">px</span> rgba(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0.2</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">flex</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">flex-direction</span>: <span style="color:#66d9ef">column</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">transition</span>: <span style="color:#66d9ef">all</span> <span style="color:#ae81ff">0.3</span><span style="color:#66d9ef">s</span> <span style="color:#66d9ef">ease</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">overflow</span>: <span style="color:#66d9ef">hidden</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/* Additional styles omitted for brevity */</span>
</span></span></code></pre></div><p>Widget, mesajlar ve Ã¼rÃ¼n kartlarÄ± iÃ§in HTML&rsquo;i dinamik olarak oluÅŸturarak zengin bir kullanÄ±cÄ± deneyimi saÄŸlar.</p>
<h2 id="9-test-ve-deÄŸerlendirme">9. Test ve DeÄŸerlendirme</h2>
<h3 id="postman-ile-api-testi">Postman ile API Testi</h3>
<p>Sistemimizin doÄŸru Ã§alÄ±ÅŸtÄ±ÄŸÄ±ndan emin olmak iÃ§in, tÃ¼m uÃ§ noktalarÄ± test etmek Ã¼zere kapsamlÄ± bir Postman koleksiyonu oluÅŸturduk:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;info&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;ecommerceRAG API&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;A collection for testing the ecommerceRAG API endpoints&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;schema&#34;</span>: <span style="color:#e6db74">&#34;https://schema.getpostman.com/json/collection/v2.1.0/collection.json&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;item&#34;</span>: [
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;Chat&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;Endpoints for chat functionality&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;item&#34;</span>: [
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;Process Chat Message&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">&#34;request&#34;</span>: {
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;method&#34;</span>: <span style="color:#e6db74">&#34;POST&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;header&#34;</span>: [
</span></span><span style="display:flex;"><span>              {
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;key&#34;</span>: <span style="color:#e6db74">&#34;Content-Type&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;application/json&#34;</span>
</span></span><span style="display:flex;"><span>              }
</span></span><span style="display:flex;"><span>            ],
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;body&#34;</span>: {
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&#34;mode&#34;</span>: <span style="color:#e6db74">&#34;raw&#34;</span>,
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&#34;raw&#34;</span>: <span style="color:#e6db74">&#34;{\n    \&#34;message\&#34;: \&#34;What laptops do you have?\&#34;,\n    \&#34;conversationId\&#34;: null\n}&#34;</span>
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;url&#34;</span>: {
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&#34;raw&#34;</span>: <span style="color:#e6db74">&#34;{{baseUrl}}/api/chat&#34;</span>,
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&#34;host&#34;</span>: [
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;{{baseUrl}}&#34;</span>
</span></span><span style="display:flex;"><span>              ],
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&#34;path&#34;</span>: [
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;api&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;chat&#34;</span>
</span></span><span style="display:flex;"><span>              ]
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;Process a chat message and get a response from the AI&#34;</span>
</span></span><span style="display:flex;"><span>          }
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;Process Follow-up Message&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">&#34;request&#34;</span>: {
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;method&#34;</span>: <span style="color:#e6db74">&#34;POST&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;header&#34;</span>: [
</span></span><span style="display:flex;"><span>              {
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;key&#34;</span>: <span style="color:#e6db74">&#34;Content-Type&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;application/json&#34;</span>
</span></span><span style="display:flex;"><span>              }
</span></span><span style="display:flex;"><span>            ],
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;body&#34;</span>: {
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&#34;mode&#34;</span>: <span style="color:#e6db74">&#34;raw&#34;</span>,
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&#34;raw&#34;</span>: <span style="color:#e6db74">&#34;{\n    \&#34;message\&#34;: \&#34;What is the price range?\&#34;,\n    \&#34;conversationId\&#34;: \&#34;{{conversationId}}\&#34;\n}&#34;</span>
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;url&#34;</span>: {
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&#34;raw&#34;</span>: <span style="color:#e6db74">&#34;{{baseUrl}}/api/chat&#34;</span>,
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&#34;host&#34;</span>: [
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;{{baseUrl}}&#34;</span>
</span></span><span style="display:flex;"><span>              ],
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&#34;path&#34;</span>: [
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;api&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;chat&#34;</span>
</span></span><span style="display:flex;"><span>              ]
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;Process a follow-up message in an existing conversation&#34;</span>
</span></span><span style="display:flex;"><span>          }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      ]
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;Conversations&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;Endpoints for managing conversations&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;item&#34;</span>: [
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;Get All Conversations&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">&#34;request&#34;</span>: {
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;method&#34;</span>: <span style="color:#e6db74">&#34;GET&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;url&#34;</span>: {
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&#34;raw&#34;</span>: <span style="color:#e6db74">&#34;{{baseUrl}}/api/conversations&#34;</span>,
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&#34;host&#34;</span>: [
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;{{baseUrl}}&#34;</span>
</span></span><span style="display:flex;"><span>              ],
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&#34;path&#34;</span>: [
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;api&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;conversations&#34;</span>
</span></span><span style="display:flex;"><span>              ]
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;Get a list of all conversations&#34;</span>
</span></span><span style="display:flex;"><span>          }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Additional endpoints omitted for brevity
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      ]
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;Products&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;Endpoints for product information&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;item&#34;</span>: [
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;Get Product Detail&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">&#34;request&#34;</span>: {
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;method&#34;</span>: <span style="color:#e6db74">&#34;GET&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;url&#34;</span>: {
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&#34;raw&#34;</span>: <span style="color:#e6db74">&#34;{{baseUrl}}/product/{{productId}}&#34;</span>,
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&#34;host&#34;</span>: [
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;{{baseUrl}}&#34;</span>
</span></span><span style="display:flex;"><span>              ],
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&#34;path&#34;</span>: [
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;product&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;{{productId}}&#34;</span>
</span></span><span style="display:flex;"><span>              ]
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;Get detailed information about a specific product&#34;</span>
</span></span><span style="display:flex;"><span>          }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      ]
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  ]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="performans-deÄŸerlendirmesi">Performans DeÄŸerlendirmesi</h3>
<p>Sistemimizi birkaÃ§ temel metrik Ã¼zerinde deÄŸerlendirdik:</p>
<ol>
<li><strong>YanÄ±t SÃ¼resi</strong>: YanÄ±t Ã¼retmek iÃ§in gereken ortalama sÃ¼re</li>
<li><strong>Ä°lgililik</strong>: Getirilen Ã¼rÃ¼nlerin kullanÄ±cÄ± sorgusuna ne kadar iyi eÅŸleÅŸtiÄŸi</li>
<li><strong>KonuÅŸma TutarlÄ±lÄ±ÄŸÄ±</strong>: Sistemin takip sorularÄ±nda baÄŸlamÄ± ne kadar iyi koruduÄŸu</li>
<li><strong>Dil DesteÄŸi</strong>: FarklÄ± dillerdeki yanÄ±tlarÄ±n doÄŸruluÄŸu</li>
</ol>
<p>Testimiz, sistemin bu metrikler genelinde iyi performans gÃ¶sterdiÄŸini, Ã¶zellikle konuÅŸma baÄŸlamÄ±nÄ± koruma ve ilgili Ã¼rÃ¼n bilgilerini saÄŸlama konularÄ±nda gÃ¼Ã§lÃ¼ sonuÃ§lar elde ettiÄŸini gÃ¶sterdi.</p>
<h2 id="10-gelecek-iyileÅŸtirmeler">10. Gelecek Ä°yileÅŸtirmeler</h2>
<p>Mevcut uygulamamÄ±z bir e-ticaret RAG sistemi iÃ§in saÄŸlam bir temel saÄŸlarken, gelecekte iyileÅŸtirilebilecek birkaÃ§ alan bulunmaktadÄ±r:</p>
<h3 id="kiÅŸiselleÅŸtirme">KiÅŸiselleÅŸtirme</h3>
<p>Future versions could incorporate user preferences and purchase history to provide more personalized recommendations. This would involve:</p>
<ul>
<li>Tracking user interactions and preferences</li>
<li>Incorporating user profile information in the RAG process</li>
<li>Adjusting product rankings based on user history</li>
</ul>
<h3 id="enhanced-product-comparison">Enhanced Product Comparison</h3>
<p>We could improve the system&rsquo;s ability to compare products by:</p>
<ul>
<li>Implementing structured product attribute extraction</li>
<li>Creating specialized prompts for comparison queries</li>
<li>Developing visual comparison displays</li>
</ul>
<h3 id="voice-interface">Voice Interface</h3>
<p>Adding voice input and output would make the system more accessible and convenient, especially for mobile users:</p>
<ul>
<li>Implementing speech-to-text for user queries</li>
<li>Adding text-to-speech for AI responses</li>
<li>Supporting voice-specific interaction patterns</li>
</ul>
<h3 id="analytics-and-feedback-loop">Analytics and Feedback Loop</h3>
<p>Implementing analytics would help improve the system over time:</p>
<ul>
<li>Tracking successful vs. unsuccessful interactions</li>
<li>Analyzing common user queries and pain points</li>
<li>Using feedback to fine-tune the RAG process</li>
</ul>
<h2 id="conclusion">Conclusion</h2>
<p>In this article, we&rsquo;ve explored how Retrieval-Augmented Generation (RAG) can transform e-commerce applications by providing more intelligent, context-aware product search and recommendations. We&rsquo;ve implemented a complete RAG system that combines vector databases, semantic search, conversation memory, and multi-language support to create a powerful shopping assistant.</p>
<p>The key components of our system include:</p>
<ul>
<li><strong>Vector Database</strong>: Storing product embeddings for semantic search</li>
<li><strong>Conversation Management</strong>: Maintaining context for follow-up questions</li>
<li><strong>Multi-language Support</strong>: Allowing users to interact in their preferred language</li>
<li><strong>AI Response Generation</strong>: Creating helpful, contextual responses</li>
<li><strong>Message Categorization</strong>: Understanding user intent</li>
<li><strong>Clean Architecture</strong>: Ensuring maintainability and scalability</li>
</ul>
<p>By combining these components, we&rsquo;ve created a system that can understand complex product queries, maintain conversation context, and provide accurate, helpful responses across multiple languages.</p>
<p>You can access the complete code for this project at <a href="https://github.com/cagatayturkan/ecommerceRAG">GitHub repository</a> and use it as a starting point for your own RAG-based applications.</p>
<hr>

            </div>
        </div>
    </div>
    <div class="my-10 py-5 border-t border-dashed border-t-white/10 text-xl text-gray-600">
        
    </div>
</article>


            </main>

            <aside id="sidebar" class="aside-container">

    
    <div class="aside-section-title">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
            class="size-6">
            <path stroke-linecap="round" stroke-linejoin="round"
                d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z" />
        </svg>
        HakkÄ±mda
    </div>

    <img src="/blog/images/bg.jpg" class="w-80 self-center rounded-lg" alt="Logo" />

    
    <div class="aside-section-title">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
            class="size-6">
            <path stroke-linecap="round" stroke-linejoin="round"
                d="M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z" />
        </svg>
        Son YazÄ±lar
    </div>

    <ul class="text-lg">
        
        
        <li class="leading-10 line-clamp-1 mb-3 font-light border-b border-b-white/10 border-dashed">
            <a href="/blog/tr/vector-databases-weaviate/" class="py-5 hover:text-gray-300">VektÃ¶r VeritabanlarÄ± ve Weaviate: Anlamsal Arama UygulamalarÄ± OluÅŸturma</a>
        </li>
        
        
        
        <li class="leading-10 line-clamp-1 mb-3 font-light border-b border-b-white/10 border-dashed">
            <a href="/blog/tr/building-intelligent-ecommerce-rag/" class="py-5 hover:text-gray-300">RAG ile AkÄ±llÄ± E-ticaret Deneyimleri OluÅŸturma</a>
        </li>
        
        
        
        <li class="leading-10 line-clamp-1 mb-3 font-light border-b border-b-white/10 border-dashed">
            <a href="/blog/tr/rag-ile-eticaret-chatbot-olusturma/" class="py-5 hover:text-gray-300">RAG ile AkÄ±llÄ± E-ticaret Deneyimleri OluÅŸturma</a>
        </li>
        
        
        
        <li class="leading-10 line-clamp-1 mb-3 font-light border-b border-b-white/10 border-dashed">
            <a href="/blog/tr/rag-ile-yeni-nesil-ai-sistemleri-olusturma/" class="py-5 hover:text-gray-300">RAG: Retrieval Augmented Generation ile Yeni Nesil Yapay Zeka Sistemleri OluÅŸturma</a>
        </li>
        
        
        
        <li class="leading-10 line-clamp-1 mb-3 font-light border-b border-b-white/10 border-dashed">
            <a href="/blog/tr/modern-ai-teknolojileri-nodejs-entegrasyonu/" class="py-5 hover:text-gray-300">Modern AI Teknolojileri ve Node.js Entegrasyonu</a>
        </li>
        
        
    </ul>

    
    <div class="aside-section-title">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
            class="size-6">
            <path stroke-linecap="round" stroke-linejoin="round"
                d="M2.25 7.125C2.25 6.504 2.754 6 3.375 6h6c.621 0 1.125.504 1.125 1.125v3.75c0 .621-.504 1.125-1.125 1.125h-6a1.125 1.125 0 0 1-1.125-1.125v-3.75ZM14.25 8.625c0-.621.504-1.125 1.125-1.125h5.25c.621 0 1.125.504 1.125 1.125v8.25c0 .621-.504 1.125-1.125 1.125h-5.25a1.125 1.125 0 0 1-1.125-1.125v-8.25ZM3.75 16.125c0-.621.504-1.125 1.125-1.125h5.25c.621 0 1.125.504 1.125 1.125v2.25c0 .621-.504 1.125-1.125 1.125h-5.25a1.125 1.125 0 0 1-1.125-1.125v-2.25Z" />
        </svg>
        PopÃ¼ler Kategoriler
    </div>
    <ul class="leading-10 text-lg">
        
        
        
        
        
        <li class="mb-1 border-b border-b-gray-900 border-dashed font-light">
            <a href="/blog/tr/categories/typescript/" class="hover:text-gray-300">TypeScript <span
                    class="ml-2 px-2 bg-gray-800 rounded-full text-gray-500">9</span></a>
        </li>
        
        
        
        
        
        <li class="mb-1 border-b border-b-gray-900 border-dashed font-light">
            <a href="/blog/tr/categories/ai/" class="hover:text-gray-300">AI <span
                    class="ml-2 px-2 bg-gray-800 rounded-full text-gray-500">4</span></a>
        </li>
        
        
        
        
        
        <li class="mb-1 border-b border-b-gray-900 border-dashed font-light">
            <a href="/blog/tr/categories/node.js/" class="hover:text-gray-300">Node.js <span
                    class="ml-2 px-2 bg-gray-800 rounded-full text-gray-500">3</span></a>
        </li>
        
        
        
        
        
        <li class="mb-1 border-b border-b-gray-900 border-dashed font-light">
            <a href="/blog/tr/categories/backend/" class="hover:text-gray-300">Backend <span
                    class="ml-2 px-2 bg-gray-800 rounded-full text-gray-500">1</span></a>
        </li>
        
        
        
        
        
        <li class="mb-1 border-b border-b-gray-900 border-dashed font-light">
            <a href="/blog/tr/categories/geli%C5%9Ftirme/" class="hover:text-gray-300">GeliÅŸtirme <span
                    class="ml-2 px-2 bg-gray-800 rounded-full text-gray-500">1</span></a>
        </li>
        
        
        
        
        
        <li class="mb-1 border-b border-b-gray-900 border-dashed font-light">
            <a href="/blog/tr/categories/git/" class="hover:text-gray-300">Git <span
                    class="ml-2 px-2 bg-gray-800 rounded-full text-gray-500">1</span></a>
        </li>
        
        
        
        
        
        
        
        
        
        <li class="mb-1 border-b border-b-gray-900 border-dashed font-light">
            <a href="/blog/tr/categories/javascript/" class="hover:text-gray-300">JavaScript <span
                    class="ml-2 px-2 bg-gray-800 rounded-full text-gray-500">1</span></a>
        </li>
        
        
        
        
        
        <li class="mb-1 border-b border-b-gray-900 border-dashed font-light">
            <a href="/blog/tr/categories/ki%C5%9Fisel-geli%C5%9Fim/" class="hover:text-gray-300">KiÅŸisel GeliÅŸim <span
                    class="ml-2 px-2 bg-gray-800 rounded-full text-gray-500">1</span></a>
        </li>
        
        
        
        
        
        <li class="mb-1 border-b border-b-gray-900 border-dashed font-light">
            <a href="/blog/tr/categories/linux/" class="hover:text-gray-300">Linux <span
                    class="ml-2 px-2 bg-gray-800 rounded-full text-gray-500">1</span></a>
        </li>
        
        
        
        
        
        
        
        
        
        
        
        

    </ul>

    
    <div class="aside-section-title">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
            class="size-6">
            <path stroke-linecap="round" stroke-linejoin="round"
                d="M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z" />
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 6h.008v.008H6V6Z" />
        </svg>
        Etiketler
    </div>
    <div class="flex flex-wrap gap-2 text-lg leading-8 pt-3 pl-1">
        
        
        
        
        <a href="/blog/tr/tags/typescript/"><span
                class="inline-block p-0 bg-gray-800 hover:bg-gray-900 border border-gray-800 text-gray-500 hover:text-gray-300 font-light mb-1 px-5 rounded-full hover:scale-105">Typescript&nbsp;&nbsp;9</span></a>
        
        
        
        <a href="/blog/tr/tags/nodejs/"><span
                class="inline-block p-0 bg-gray-800 hover:bg-gray-900 border border-gray-800 text-gray-500 hover:text-gray-300 font-light mb-1 px-5 rounded-full hover:scale-105">Nodejs&nbsp;&nbsp;5</span></a>
        
        
        
        <a href="/blog/tr/tags/ai/"><span
                class="inline-block p-0 bg-gray-800 hover:bg-gray-900 border border-gray-800 text-gray-500 hover:text-gray-300 font-light mb-1 px-5 rounded-full hover:scale-105">Ai&nbsp;&nbsp;3</span></a>
        
        
        
        <a href="/blog/tr/tags/rag/"><span
                class="inline-block p-0 bg-gray-800 hover:bg-gray-900 border border-gray-800 text-gray-500 hover:text-gray-300 font-light mb-1 px-5 rounded-full hover:scale-105">Rag&nbsp;&nbsp;3</span></a>
        
        
        
        <a href="/blog/tr/tags/vectordb/"><span
                class="inline-block p-0 bg-gray-800 hover:bg-gray-900 border border-gray-800 text-gray-500 hover:text-gray-300 font-light mb-1 px-5 rounded-full hover:scale-105">Vectordb&nbsp;&nbsp;3</span></a>
        
        
        
        <a href="/blog/tr/tags/javascript/"><span
                class="inline-block p-0 bg-gray-800 hover:bg-gray-900 border border-gray-800 text-gray-500 hover:text-gray-300 font-light mb-1 px-5 rounded-full hover:scale-105">Javascript&nbsp;&nbsp;3</span></a>
        
        
        
        <a href="/blog/tr/tags/g%C3%B6mme/"><span
                class="inline-block p-0 bg-gray-800 hover:bg-gray-900 border border-gray-800 text-gray-500 hover:text-gray-300 font-light mb-1 px-5 rounded-full hover:scale-105">GÃ¶mme&nbsp;&nbsp;2</span></a>
        
        
        
        <a href="/blog/tr/tags/classes/"><span
                class="inline-block p-0 bg-gray-800 hover:bg-gray-900 border border-gray-800 text-gray-500 hover:text-gray-300 font-light mb-1 px-5 rounded-full hover:scale-105">Classes&nbsp;&nbsp;1</span></a>
        
        
        
        <a href="/blog/tr/tags/compiler/"><span
                class="inline-block p-0 bg-gray-800 hover:bg-gray-900 border border-gray-800 text-gray-500 hover:text-gray-300 font-light mb-1 px-5 rounded-full hover:scale-105">Compiler&nbsp;&nbsp;1</span></a>
        
        
        
        <a href="/blog/tr/tags/fonksiyonlar/"><span
                class="inline-block p-0 bg-gray-800 hover:bg-gray-900 border border-gray-800 text-gray-500 hover:text-gray-300 font-light mb-1 px-5 rounded-full hover:scale-105">Fonksiyonlar&nbsp;&nbsp;1</span></a>
        
        
        
        <a href="/blog/tr/tags/kitap-%C3%B6zeti/"><span
                class="inline-block p-0 bg-gray-800 hover:bg-gray-900 border border-gray-800 text-gray-500 hover:text-gray-300 font-light mb-1 px-5 rounded-full hover:scale-105">Kitap-Ã–zeti&nbsp;&nbsp;1</span></a>
        
        
        
        <a href="/blog/tr/tags/komutlar/"><span
                class="inline-block p-0 bg-gray-800 hover:bg-gray-900 border border-gray-800 text-gray-500 hover:text-gray-300 font-light mb-1 px-5 rounded-full hover:scale-105">Komutlar&nbsp;&nbsp;1</span></a>
        
        
        
        <a href="/blog/tr/tags/al%C4%B1%C5%9Fkanl%C4%B1klar/"><span
                class="inline-block p-0 bg-gray-800 hover:bg-gray-900 border border-gray-800 text-gray-500 hover:text-gray-300 font-light mb-1 px-5 rounded-full hover:scale-105">AlÄ±ÅŸkanlÄ±klar&nbsp;&nbsp;1</span></a>
        
        
        
        <a href="/blog/tr/tags/api/"><span
                class="inline-block p-0 bg-gray-800 hover:bg-gray-900 border border-gray-800 text-gray-500 hover:text-gray-300 font-light mb-1 px-5 rounded-full hover:scale-105">Api&nbsp;&nbsp;1</span></a>
        
        
        
        <a href="/blog/tr/tags/type-system/"><span
                class="inline-block p-0 bg-gray-800 hover:bg-gray-900 border border-gray-800 text-gray-500 hover:text-gray-300 font-light mb-1 px-5 rounded-full hover:scale-105">Type-System&nbsp;&nbsp;1</span></a>
        
        
        
        <a href="/blog/tr/tags/configuration/"><span
                class="inline-block p-0 bg-gray-800 hover:bg-gray-900 border border-gray-800 text-gray-500 hover:text-gray-300 font-light mb-1 px-5 rounded-full hover:scale-105">Configuration&nbsp;&nbsp;1</span></a>
        
        
        
        <a href="/blog/tr/tags/git-flow/"><span
                class="inline-block p-0 bg-gray-800 hover:bg-gray-900 border border-gray-800 text-gray-500 hover:text-gray-300 font-light mb-1 px-5 rounded-full hover:scale-105">Git-Flow&nbsp;&nbsp;1</span></a>
        
        
        
        <a href="/blog/tr/tags/ki%C5%9Fisel-geli%C5%9Fim/"><span
                class="inline-block p-0 bg-gray-800 hover:bg-gray-900 border border-gray-800 text-gray-500 hover:text-gray-300 font-light mb-1 px-5 rounded-full hover:scale-105">KiÅŸisel-GeliÅŸim&nbsp;&nbsp;1</span></a>
        
        
        
        <a href="/blog/tr/tags/microservices/"><span
                class="inline-block p-0 bg-gray-800 hover:bg-gray-900 border border-gray-800 text-gray-500 hover:text-gray-300 font-light mb-1 px-5 rounded-full hover:scale-105">Microservices&nbsp;&nbsp;1</span></a>
        
        
        
        <a href="/blog/tr/tags/weaviate/"><span
                class="inline-block p-0 bg-gray-800 hover:bg-gray-900 border border-gray-800 text-gray-500 hover:text-gray-300 font-light mb-1 px-5 rounded-full hover:scale-105">Weaviate&nbsp;&nbsp;1</span></a>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
    </div>

    
    <div class="aside-section-title">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
            class="size-6">
            <path stroke-linecap="round" stroke-linejoin="round"
                d="m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z" />
        </svg>
        ArÅŸiv
    </div>
    <ul class="leading-10 text-lg font-light">
        
        
        
        
        <li class="mb-1 border-b border-b-white/10 border-dashed">
            <a href="/blog/tr/archives">Mar 2025<span
                    class="ml-2 px-2 bg-gray-800 rounded-full text-gray-500">5</span></a>
        </li>
        
        
        
        <li class="mb-1 border-b border-b-white/10 border-dashed">
            <a href="/blog/tr/archives">Åžub 2025<span
                    class="ml-2 px-2 bg-gray-800 rounded-full text-gray-500">11</span></a>
        </li>
        
        
        
        <li class="mb-1 border-b border-b-white/10 border-dashed">
            <a href="/blog/tr/archives">Oca 2025<span
                    class="ml-2 px-2 bg-gray-800 rounded-full text-gray-500">1</span></a>
        </li>
        
        
        
        <li class="mb-1 border-b border-b-white/10 border-dashed">
            <a href="/blog/tr/archives">Haz 2024<span
                    class="ml-2 px-2 bg-gray-800 rounded-full text-gray-500">1</span></a>
        </li>
        
        
        
        <li class="mb-1 border-b border-b-white/10 border-dashed">
            <a href="/blog/tr/archives">Mar 2024<span
                    class="ml-2 px-2 bg-gray-800 rounded-full text-gray-500">1</span></a>
        </li>
        
        
        
        <li class="mb-1 border-b border-b-white/10 border-dashed">
            <a href="/blog/tr/archives">Kas 2023<span
                    class="ml-2 px-2 bg-gray-800 rounded-full text-gray-500">1</span></a>
        </li>
        
        
        
    </ul>

    
    <div class="aside-section-title">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
            class="size-6">
            <path stroke-linecap="round" stroke-linejoin="round"
                d="M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75" />
        </svg>
        Ä°letiÅŸim
    </div>
    <div class="flex flex-row gap-2">
        Emailï¼šcagatayturkann@gmail.com
    </div>
</aside>
        </div>
    </div>
    </script>
</body>

</html>